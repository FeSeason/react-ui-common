{"version":3,"sources":["../../src/navCircle/index.jsx"],"names":["NavShow","props","context","shouldComponentUpdate","bind","state","navInfo","isShowCode","dragInfo","left","top","currentX","currentY","flag","wBoxDis","hBoxDis","setState","document","addEventListener","e","navMove","endDrag","event","docW","documentElement","clientWidth","docH","clientHeight","window","dragNavDOM","_dragNav","nowX","clientX","nowY","clientY","w","h","style","right","bottom","itemLength","delay","duration","time","setTimeout","preventDefault","findDOMNode","offsetLeft","offsetTop","Object","assign","itemList","length","nav","code","dragNav","animateToggle","dragStart","showTxt","hideTxt","display","map","item","index","fadeInUp","flipOutX","animationDelay","link","txt","Component"],"mappings":";;;;;;;;AAIA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;;;;;IACMA,O;;;AACL,kBAAYC,KAAZ,EAAmBC,OAAnB,EAA4B;AAAA;;AAAA,gHACrBD,KADqB,EACdC,OADc;;AAE3B,QAAKC,qBAAL,GAA6B,qCAAgBA,qBAAhB,CAAsCC,IAAtC,OAA7B;AACA,QAAKC,KAAL,GAAa;AACZC,YAAU,EADE;AAEZC,eAAY,GAFA;AAGZC,aAAU;AACTC,UAAM,CADG;AAETC,SAAK,CAFI;AAGTC,cAAU,CAHD;AAITC,cAAU,CAJD;AAKTC,UAAM,KALG;AAMTC,aAAS,CANA;AAOTC,aAAS;AAPA;AAHE,GAAb;AAH2B;AAgB3B;;;;uCACoB;AACpB,QAAKC,QAAL,CAAc,EAAEV,SAAS,KAAKL,KAAL,CAAWK,OAAtB,EAAd;AACA;;;sCACmB;AAAA;;AACnBW,YAASC,gBAAT,CAA0B,WAA1B,EAAuC,UAACC,CAAD;AAAA,WAAO,OAAKC,OAAL,CAAaD,CAAb,CAAP;AAAA,IAAvC,EAA+D,KAA/D;AACAF,YAASC,gBAAT,CAA0B,SAA1B,EAAoC,UAACC,CAAD;AAAA,WAAM,OAAKE,OAAL,CAAaF,CAAb,CAAN;AAAA,IAApC,EAA0D,KAA1D;AACA;;;0BAEOG,K,EAAO;AACd,OAAMC,OAAON,SAASO,eAAT,CAAyBC,WAAtC;AAAA,OACGC,OAAOT,SAASO,eAAT,CAAyBG,YADnC;AAEA,OAAMR,IAAIG,SAASM,OAAON,KAA1B;;;AAGA,OAAMO,aAAa,KAAKC,QAAxB;;AAEA,OAAK,KAAKzB,KAAL,CAAWG,QAAX,CAAoBK,IAAzB,EAAgC;AAC/B,QAAIkB,OAAOZ,EAAEa,OAAb;AAAA,QACEC,OAAOd,EAAEe,OADX;AAEA,QAAIC,IAAI,KAAK9B,KAAL,CAAWG,QAAX,CAAoBM,OAA5B;AAAA,QACEsB,IAAI,KAAK/B,KAAL,CAAWG,QAAX,CAAoBM,OAD1B;AAEAe,eAAWQ,KAAX,CAAiBC,KAAjB,GAAyBf,OAAOQ,IAAP,IAAe,KAAKI,CAApB,IAAyB,IAAlD;AACAN,eAAWQ,KAAX,CAAiBE,MAAjB,GAA0Bb,OAAOO,IAAP,IAAe,KAAKG,CAApB,IAAyB,IAAnD;AACA;AAED;;;gCAEaI,U,EAAYC,K,EAAOlC,U,EAAY;AAAA;;AAC5C,OAAIA,eAAe,GAAnB,EAAwB,KAAKS,QAAL,CAAc,EAACT,YAAY,GAAb,EAAd;AACxB,OAAIA,eAAe,GAAnB,EAAwB;AACvB,SAAKS,QAAL,CAAc,EAACT,YAAY,GAAb,EAAd;AACA,QAAMmC,WAAW,GAAjB;AACA,QAAMC,OAAO,CAAEH,aAAaC,KAAb,GAAqBC,QAAvB,IAAoC,IAApC,GAA2C,EAAxD;AACAE,eAAW,YAAM;AAChB,YAAK5B,QAAL,CAAc,EAAET,YAAY,GAAd,EAAd;AACA,KAFD,EAEGoC,IAFH;AAGA;AACD;;;4BAESrB,K,EAAO;AAChB,OAAMH,IAAIG,SAASM,OAAON,KAA1B;AACAH,KAAE0B,cAAF;AACA,OAAMhB,aAAa,mBAASiB,WAAT,CAAqB,KAAKhB,QAA1B,CAAnB;AACA,OAAMK,IAAIhB,EAAEa,OAAF,GAAYH,WAAWkB,UAAjC;AACA,OAAMX,IAAIjB,EAAEa,OAAF,GAAYH,WAAWmB,SAAjC;;AAEA,QAAKhC,QAAL,CAAc,EAAER,UAAUyC,OAAOC,MAAP,CAAc,KAAK7C,KAAL,CAAWG,QAAzB,EAAmC,EAAEK,MAAM,IAAR,EAAcC,SAASqB,CAAvB,EAA0BpB,SAASqB,CAAnC,EAAnC,CAAZ,EAAd;AACA;;;0BAEOjB,C,EAAG;AACV,OAAMI,OAAON,SAASO,eAAT,CAAyBC,WAAtC;AAAA,OACGC,OAAOT,SAASO,eAAT,CAAyBG,YADnC;AAEA,OAAME,aAAa,mBAASiB,WAAT,CAAqB,KAAKhB,QAA1B,CAAnB;;AAEA,OAAID,WAAWkB,UAAX,GAAwB,GAA5B,EAAkC;AACjClB,eAAWQ,KAAX,CAAiBC,KAAjB,GAAyBf,OAAO,GAAP,GAAa,IAAtC;AACA;AACD,OAAIM,WAAWmB,SAAX,GAAyB,KAAK3C,KAAL,CAAWC,OAAX,CAAmB6C,QAAnB,CAA4BC,MAA5B,IAAsC,KAAK,CAA3C,IAAgD,EAA7E,EAAoF;AACnFvB,eAAWQ,KAAX,CAAiBE,MAAjB,GAA0Bb,OAAO,KAAKrB,KAAL,CAAWC,OAAX,CAAmB6C,QAAnB,CAA4BC,MAA5B,IAAsC,KAAK,CAA3C,CAAP,GAAuD,IAAjF;AACA;AACD,OAAIvB,WAAWmB,SAAX,GAAwBtB,OAAO,EAAnC,EAAyC;AACxCG,eAAWQ,KAAX,CAAiBE,MAAjB,GAA0B,KAA1B;AACA;AACD,OAAIV,WAAWkB,UAAX,GAA0BxB,OAAO,EAArC,EAA4C;AAC3CM,eAAWQ,KAAX,CAAiBC,KAAjB,GAAyB,KAAzB;AACA;;AAED,QAAKtB,QAAL,CAAc,EAAER,UAAUyC,OAAOC,MAAP,CAAc,KAAK7C,KAAL,CAAWG,QAAzB,EAAmC,EAAEK,MAAM,KAAR,EAAnC,CAAZ,EAAd;AACA;;;2BAEQ;AAAA;;AACR,OAAMwC,MAAM,KAAKhD,KAAL,CAAWC,OAAvB;AACA,OAAMgD,OAAO,KAAKjD,KAAL,CAAWE,UAAxB;AACA,OAAMkC,QAAQ,GAAd;AACA,UACC;AAAA;AAAA,MAAS,KAAM;AAAA,aAAW,OAAKX,QAAL,GAAgByB,OAA3B;AAAA,MAAf,EAAoD,WAAU,YAA9D,EAA2E,SAAS,KAAKC,aAAL,CAAmBpD,IAAnB,CAAwB,IAAxB,EAA8BiD,IAAIF,QAAJ,CAAaC,MAA3C,EAAmDX,KAAnD,EAA0Da,IAA1D,CAApF,EAAqJ,aAAc,KAAKG,SAAL,CAAerD,IAAf,CAAoB,IAApB,CAAnK;AACC;AAAA;AAAA,OAAK,WAAU,aAAf;AACC;AAAA;AAAA,QAAK,WAAU,WAAf;AACEkD,eAAS,GAAT,IAAgBA,SAAS,GAAzB,GAA+BD,IAAIK,OAAnC,GAA6CL,IAAIM;AADnD;AADD,KADD;AAOC;AAAA;AAAA,OAAK,WAAU,kBAAf,EAAkC,OAAO,EAAEC,SAASN,SAAS,GAAT,GAAe,MAAf,GAAwB,OAAnC,EAAzC;AAEED,SAAIF,QAAJ,CAAaU,GAAb,CAAiB,UAACC,IAAD,EAAOC,KAAP,EAAiB;AACjC,aACC;AAAA;AAAA;AACC,mBAAY,0BAAW,MAAX,EAAmB,EAACC,UAAUV,SAAS,GAApB,EAAyBW,UAAUX,SAAS,GAA5C,EAAnB,CADb;AAEC,aAAKS,KAFN,EAEa,OAAO,EAACxB,QAASwB,KAAD,IAAY,KAAK,CAAjB,CAAT,EAA8BG,gBAAkBzB,SAAUsB,QAAQ,CAAlB,CAAF,GAA4B,GAA1E,EAFpB;AAGC;AAAA;AAAA,UAAG,MAAOD,KAAKK,IAAf,EAAqB,QAAO,QAA5B,EAAqC,SAAU;AAAA,iBAAM,OAAKnD,QAAL,CAAc,EAAET,YAAY,GAAd,EAAd,CAAN;AAAA,UAA/C;AAAA;AACIuD,aAAKM;AADT;AAHD,OADD;AASA,MAVD;AAFF;AAPD,IADD;AA2BA;;;;EAvHoB,gBAAMC,S;;kBA0HbrE,O","file":"index.js","sourcesContent":["/**\n * Created by Season on 2017/7/17.\n */\n\nimport React from 'react'\nimport classNames from 'classnames'\nimport ReactDom from 'react-dom'\nimport PureRenderMixin from 'react-addons-pure-render-mixin'\nimport './index.scss'\nclass NavShow extends React.Component {\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\t\tthis.shouldComponentUpdate = PureRenderMixin.shouldComponentUpdate.bind(this);\n\t\tthis.state = {\n\t\t\tnavInfo : {},\n\t\t\tisShowCode: 100, // 100 为初始状态，101 显示状态， 102隐藏状态\n\t\t\tdragInfo: {\n\t\t\t\tleft: 0,\n\t\t\t\ttop: 0,\n\t\t\t\tcurrentX: 0,\n\t\t\t\tcurrentY: 0,\n\t\t\t\tflag: false,\n\t\t\t\twBoxDis: 0,\n\t\t\t\thBoxDis: 0\n\t\t\t}\n\t\t}\n\t}\n\tcomponentWillMount() {\n\t\tthis.setState({ navInfo: this.props.navInfo })\n\t}\n\tcomponentDidMount() {\n\t\tdocument.addEventListener('mousemove', (e) => this.navMove(e), false)\n\t\tdocument.addEventListener('mouseup',(e)=> this.endDrag(e),false);\n\t}\n\n\tnavMove(event) {\n\t\tconst docW = document.documentElement.clientWidth,\n\t\t\t\t\tdocH = document.documentElement.clientHeight;\n\t\tconst e = event || window.event\n\t\t// e.preventDefault();\n\n\t\tconst dragNavDOM = this._dragNav\n\n\t\tif ( this.state.dragInfo.flag ) {\n\t\t\tlet nowX = e.clientX,\n\t\t\t\t\tnowY = e.clientY;\n\t\t\tlet w = this.state.dragInfo.wBoxDis,\n\t\t\t\t\th = this.state.dragInfo.wBoxDis\n\t\t\tdragNavDOM.style.right = docW - nowX - (60 - w) + 'px'\n\t\t\tdragNavDOM.style.bottom = docH - nowY - (60 - h) + 'px'\n\t\t}\n\n\t}\n\n\tanimateToggle(itemLength, delay, isShowCode) {\n\t\tif (isShowCode === 100) this.setState({isShowCode: 101})\n\t\tif (isShowCode === 101) {\n\t\t\tthis.setState({isShowCode: 102})\n\t\t\tconst duration = 0.6;\n\t\t\tconst time = ( itemLength * delay + duration ) * 1000 + 10\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.setState({ isShowCode: 100 })\n\t\t\t}, time)\n\t\t}\n\t}\n\n\tdragStart(event) {\n\t\tconst e = event || window.event\n\t\te.preventDefault()\n\t\tconst dragNavDOM = ReactDom.findDOMNode(this._dragNav)\n\t\tconst w = e.clientX - dragNavDOM.offsetLeft;\n\t\tconst h = e.clientX - dragNavDOM.offsetTop;\n\n\t\tthis.setState({ dragInfo: Object.assign(this.state.dragInfo, { flag: true, wBoxDis: w, hBoxDis: h }) })\n\t}\n\n\tendDrag(e) {\n\t\tconst docW = document.documentElement.clientWidth,\n\t\t\t\t\tdocH = document.documentElement.clientHeight;\n\t\tconst dragNavDOM = ReactDom.findDOMNode(this._dragNav)\n\n\t\tif( dragNavDOM.offsetLeft < 175 ) {\n\t\t\tdragNavDOM.style.right = docW - 235 + 'px'\n\t\t}\n\t\tif( dragNavDOM.offsetTop < ( this.state.navInfo.itemList.length * (30 + 5) - 30 ) ) {\n\t\t\tdragNavDOM.style.bottom = docH - this.state.navInfo.itemList.length * (30 + 5) + 'px'\n\t\t}\n\t\tif( dragNavDOM.offsetTop > (docH - 60) ) {\n\t\t\tdragNavDOM.style.bottom = '5px'\n\t\t}\n\t\tif( dragNavDOM.offsetLeft > ( docW - 60 ) ) {\n\t\t\tdragNavDOM.style.right = '5px'\n\t\t}\n\n\t\tthis.setState({ dragInfo: Object.assign(this.state.dragInfo, { flag: false }) })\n\t}\n\n\trender() {\n\t\tconst nav = this.state.navInfo;\n\t\tconst code = this.state.isShowCode;\n\t\tconst delay = 0.2;\n\t\treturn (\n\t\t\t<section ref={ dragNav => this._dragNav = dragNav } className=\"circle-nav\" onClick={this.animateToggle.bind(this, nav.itemList.length, delay, code)} onMouseDown={ this.dragStart.bind(this) }>\n\t\t\t\t<div className=\"circle-main\">\n\t\t\t\t\t<div className=\"circle-bd\">\n\t\t\t\t\t\t{code === 100 || code === 102 ? nav.showTxt : nav.hideTxt}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"circle-item-list\" style={{ display: code === 100 ? 'none' : 'block' }}>\n\t\t\t\t\t{\n\t\t\t\t\t\tnav.itemList.map((item, index) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName={ classNames('item', {fadeInUp: code === 101, flipOutX: code === 102}) }\n\t\t\t\t\t\t\t\t\tkey={index} style={{bottom: (index) * ( 30 + 5), animationDelay: ( delay * ( index + 1 ) ) + 's'}}>\n\t\t\t\t\t\t\t\t\t<a href={ item.link} target=\"_blank\" onClick={ () => this.setState({ isShowCode: 100 }) }>\n\t\t\t\t\t\t\t\t\t\t• {item.txt}\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\n\t\t\t\t</div>\n\n\t\t\t</section>\n\t\t)\n\t}\n}\n\nexport default NavShow"]}